# 字段角色（Field Role）定义说明

**BizSemantic · v0.3.0**

---

## 一、字段角色是什么（统一定义）

> **字段角色（Field Role）**
> 是对字段在业务语义建模中的“功能定位”的一种分类，用于描述
> **这个字段在业务世界里承担什么角色，而不是它的技术类型**。

字段角色是：

* 语义建模的**基础决策**
* 表级语义理解与对象建模的**输入条件**
* 后续质量、安全、版本治理的**前置依据**

---

## 二、为什么一定要定义字段角色（设计动机）

引入字段角色，解决的是三个核心问题：

1. **让用户明确在“确认什么”**
   而不是泛泛地“理解字段”

2. **让系统知道哪些字段是关键的**
   哪些会影响表级语义、对象建模、治理 Gate

3. **为表级语义（主体 / 行为 / 状态）提供可聚合信号**

> 一句话：
> **字段角色是“字段 → 表 → 对象”的桥梁。**

---

## 三、字段角色的使用时机（用户视角）

| 阶段     | 用户在做什么      | 字段角色的作用      |
| ------ | ----------- | ------------ |
| 字段语义理解 | 确认字段含义      | **必须明确字段角色** |
| 表级语义理解 | 判断表类型       | 聚合字段角色       |
| 对象建模   | 构建业务对象      | 决定字段是否纳入对象   |
| 治理与发布  | 校验是否可进入下一阶段 | 判断 Gate 是否通过 |

---

## 四、字段角色清单与定义（v0.3.0 定版）

> 内部枚举（系统用）保持不变
> UI 展示名称为用户友好名称

---

### 1️⃣ 业务主键（Identifier）

**定义**
用于**唯一标识一条业务记录**的字段。

**典型特征**

* 不可为空
* 高唯一性
* 常用于业务对象的主键

**使用目的**

* 识别业务实体
* 表级语义判断（主体表的重要信号）
* 对象建模的核心字段

**示例**

* employee_id
* order_id

---

### 2️⃣ 关联标识（ForeignKey）

**定义**
用于**关联其他业务对象或主体**的字段。

**典型特征**

* 命名中包含 `_id`
* 值域通常来自其他表
* 可能可重复

**使用目的**

* 构建对象之间的关系
* 支撑语义关系建模
* 表级语义判断（关系型表）

**示例**

* department_id
* customer_id

---

### 3️⃣ 业务状态（Status）

**定义**
用于描述业务对象或业务过程**当前所处状态**的字段。

**典型特征**

* 枚举值较少
* 值稳定
* 表示阶段、状态、结果

**使用目的**

* 判断业务生命周期
* 表级语义（状态表 / 行为表）识别
* 后续质量与分析的重要维度

**示例**

* order_status
* approval_state

---

### 4️⃣ 时间字段（Time）

**定义**
用于描述**时间点或时间区间**的字段。

**典型特征**

* date / time / timestamp 类型
* 与事件或状态变化相关

**使用目的**

* 行为/事件表的重要判定信号
* 支撑时间分析、时序分析
* 表级语义理解（行为表）

**示例**

* create_time
* update_date

---

### 5️⃣ 业务指标（Measure）

**定义**
可用于**统计、汇总、分析**的数值型字段。

**典型特征**

* 数值类型
* 可加、可平均、可统计

**使用目的**

* 分析与指标建模的基础
* 判断是否为行为/事实类表
* 后续指标语义建模的输入

**示例**

* amount
* quantity

---

### 6️⃣ 业务属性（Attribute）

**定义**
用于描述业务对象**特征或属性**的字段。

**典型特征**

* 文本 / 枚举 / 小范围取值
* 非主键、非指标

**使用目的**

* 补充描述业务对象
* 对象建模中的属性字段
* 语义理解的默认兜底角色

**示例**

* name
* gender
* level

---

### 7️⃣ 审计字段（Audit）

**定义**
用于记录**数据的创建、修改、操作轨迹**的字段。

**典型特征**

* create_by / update_by / create_time
* 与业务语义弱相关

**使用目的**

* 区分业务字段与系统字段
* 在对象建模中可默认隐藏或弱化
* 不影响表级语义判断

**示例**

* created_at
* updated_by

---

### 8️⃣ 技术字段（Technical）

**定义**
仅用于**系统或技术实现**的字段，不具备业务语义。

**典型特征**

* hash / version / flag
* 对业务分析无直接意义

**使用目的**

* 排除在语义建模与对象建模之外
* 降低噪音
* 避免误判为业务字段

**示例**

* row_version
* is_deleted

---

## 五、字段角色在系统中的作用总结（研发视角）

| 场景      | 字段角色的作用     |
| ------- | ----------- |
| 字段语义理解  | 必选裁决项       |
| 置信度计算   | 关键权重输入      |
| 表级语义理解  | 聚合信号        |
| Gate 校验 | 判断是否可进入下一阶段 |
| 对象建模    | 决定字段是否纳入对象  |
| 质量/安全   | 决定规则是否适用    |

---

## 六、重要约束（必须写进需求）

1. **每个字段必须且只能有一个字段角色**
2. 字段角色必须经人工确认（Decision）
3. 字段角色是字段语义理解的最小完成标准
4. 未确认关键角色字段 → 阻塞进入对象建模

---

## 七、给用户的“一句话解释”（可用于 UI）

> 字段角色用来说明：
> **这个字段在业务里是用来干什么的**，
> 而不是它在数据库里长什么样。

---

## 八、PRD 定版总结语（可直接用）

> 字段角色是字段语义理解阶段的核心决策项，用于明确字段在业务语义建模中的功能定位，并作为表级语义理解、对象建模与治理流转的基础依据。

---

如果你愿意，下一步我可以继续帮你把这套定义**进一步工程化**，例如：

* 字段角色 × Gate 阻塞规则表
* 字段角色 × 表类型判定矩阵
* 字段角色在 UI 中的统一呈现规范（颜色 / icon / 文案）

你只需要说下一步要“给谁用”。
